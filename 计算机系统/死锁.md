# 什么是死锁

在对多段资源的多个锁竞争的情况下,就有可能出现死锁的情况

假设我们有*资源A*与*资源B*,他们都需要获得*锁X*和*锁Y*之后才可以访问

*线程1*获得了*锁X*,*线程2*获得了*锁Y*,并且在没有获得另外锁的情况下,不会解除已经获得的锁,这个时候,就产生了死锁

# 死锁的必要条件

- 互斥：每个资源要么已经分配给了一个进程，要么就是可用的。
- 占有和等待：已经得到了某个资源的进程可以再请求新的资源。
- 不可抢占：已经分配给一个进程的资源不能强制性地被抢占，它只能被占有它的进程显式地释放。
- 环路等待：有两个或者两个以上的进程组成一条环路，该环路中的每个进程都在等待下一个进程所占有的资源。

![](http://imageblog.boyn.top/202002031339_22.png)