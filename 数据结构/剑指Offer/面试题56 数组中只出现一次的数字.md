---
title: 面试题56 数组中只出现一次的数字
date: 2019-11-12 10:19:57
tags:
	- 算法
	- 刷题
	- 剑指Offer
    - 位运算
categories:
	- 算法
	- 刷题
---

## 问题描述

 一个整型数组里除了两个数字之外，其他的数字都出现了两次。请写程序找出这两个只出现一次的数字。 

<!--more-->

## 思路

我们知道,如果当一个数组中,除了一个数字以外,其他数字都出现了两次的话,那么对这些数字依次进行异或运算,就可以找出这个数字了,但是在这道题中,有两个数字出现了一次,那么就变得相对棘手了起来.如果我们可以将这些数字,依照其特征分到两个数组中,那么问题就变得简单很多了.

那么要怎么样找到这个特征呢,我们还是沿用位运算的思路来看,首先,我们知道只要是相同的数字,二进制位都是相同的,那么我们在最开始,对数组中的每一个数叠加一次异或运算,相同的数字都被消除,剩下的结果就是两个不同的数字相互异或的结果了.根据异或的性质,两个不同的数字才会返回1,到这里,我们刚刚想要的特征就出现了,那就是在异或结果中寻找任意一个(一般来说找第一个)为1的数,这个1所指向的位对于两个数字是不一样的.

我们找到这一位之后,就可以直接根据这一位来进行分组了,比如说,为1的分一组,为0的分一组,那么就可以将这些数字分成两组,并且这个只出现一次的数字放在了两个不同的数组当中.

然后分别对这两个数组叠加异或,就可以出现结果了

## 编码

```java
//num1,num2分别为长度为1的数组。传出参数
//将num1[0],num2[0]设置为返回结果
public class Solution {
    public void FindNumsAppearOnce(int [] array,int num1[] , int num2[]) {
        int n = 0;
        for(int i = 0;i<array.length;i++){
            n = (n^array[i]);
        }
        int offset = 1;
        while((n&offset)==0) {
            offset = offset<<1;
        }
        int Number1 = 0;
        int Number2 = 0;
        for(int i = 0;i<array.length;i++){
            if((array[i]&offset)==0){
                Number1 = Number1 ^ array[i];
            }else{
                Number2 = Number2 ^ array[i];
            }
        }
        num1[0] = Number1;
        num2[0] = Number2;
    }
}
```

